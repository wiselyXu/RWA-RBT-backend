# RWA-RBT 后端

## 项目概览

RWA-RBT（真实世界资产-应收票据代币化）平台是一个基于区块链的解决方案，用于数字化和代币化企业应收账款。该平台使企业能够将其应收账款转换为可交易的数字资产，为债权人创造流动性，同时提供由实体资产支持的投资机会。

## 业务功能

### 核心特性

- **资产代币化**：将真实世界金融资产（应收账款）转换为区块链代币
- **投资平台**：允许投资者购买应收票据的部分所有权
- **票据管理**：跟踪、验证和管理票据生命周期
- **利息计算**：计算并向代币持有者分配利息
- **结算系统**：处理从债务人到投资者的还款

### 主要参与方

- **债权人**：持有应收票据并寻求流动性的企业
- **债务人**：具有支付义务的企业
- **投资者**：购买代币化应收票据的实体
- **平台**：用于代币发行和交易的技术基础设施

### 核心流程

1. **企业入驻与认证**：企业注册和验证
2. **票据登记**：上传和验证应收单据
3. **代币发行**：打包票据并铸造RBT代币
4. **市场交易**：投资者购买RBT代币
5. **利息分配**：自动计算和分配利息
6. **债务人还款**：处理支付和代币赎回
7. **结算与记录**：生命周期完成和报告

## 技术栈

### 后端
- **语言**：Rust
- **Web框架**：Salvo
- **数据库**：MongoDB
- **缓存**：Redis
- **区块链交互**：ethers-rs

### 区块链
- **平台**：Pharos Chain
- **智能合约语言**：Rust（使用Stylus SDK）
- **文件存储**：IPFS（用于票据文档）

### 架构
- **API优先设计**：所有功能的RESTful端点
- **服务导向**：具有明确职责的模块化服务
- **区块链集成**：直接合约交互进行链上操作
- **认证**：基于JWT，使用Web3钱包签名

## 项目结构

```
crates/
├── bin/
│   └── api-server/       # 主API服务器实现
│       ├── controller/   # API端点处理器
│       ├── router/       # API路由定义
│       ├── utils/        # 辅助工具
│       └── main.rs       # 应用程序入口点
├── common/               # 共享代码和领域模型
└── service/              # 业务逻辑和服务
```

## 快速开始

1. **前提条件**:
   - Rust工具链
   - MongoDB实例
   - Redis服务器
   - 以太坊兼容节点访问

2. **配置**:
   创建`.env`文件，包含:
   ```
   RPC_URL=<区块链-rpc-端点>
   CONTRACT_ADDRESS=<已部署合约地址>
   PRIVATE_KEY=<钱包私钥>
   ```

3. **构建和运行**:
   ```
   cargo build
   cargo run
   ```

## API端点

- `/user`: 用户认证和管理
- `/enterprise`: 企业注册和管理
- `/invoice`: 票据CRUD操作
- `/rwa`: RWA特定操作，包括:
  - 可供投资的票据
  - 票据购买端点
  - 投资持仓信息

## 未来发展

- 增强风险评估机制
- 多币种支持
- RBT二级市场交易
- 与DeFi协议集成以优化收益

cargo stylus deploy --endpoint  https://devnet.dplabs-internal.com --private-key 0fbea5137261a5af747cdcdb9799bef06476eac225de4d818120bcfd7e096c14 
 

